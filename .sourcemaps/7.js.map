{"version":3,"sources":["../../src/pages/item-detail/item-detail.module.ts","../../src/pages/item-detail/item-detail.ts"],"names":[],"mappings":"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","file":"7.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { TranslateModule } from '@ngx-translate/core';\nimport { IonicPageModule } from 'ionic-angular';\n\nimport { ItemDetailPage } from './item-detail';\n\n@NgModule({\n  declarations: [\n    ItemDetailPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(ItemDetailPage),\n    TranslateModule.forChild()\n  ],\n  exports: [\n    ItemDetailPage\n  ]\n})\nexport class ItemDetailPageModule { }\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/item-detail/item-detail.module.ts","import {Component, ElementRef, ViewChild} from '@angular/core';\nimport {IonicPage, NavController, NavParams, Platform} from 'ionic-angular';\nimport {Geolocation, Geoposition} from \"@ionic-native/geolocation\";\n\ndeclare const google : any;\n@IonicPage()\n@Component({\n    selector: 'page-item-detail',\n    templateUrl: 'item-detail.html'\n})\nexport class ItemDetailPage {\n    service : any;\n    map: any;\n    directionsService: any = null;\n    directionsDisplay: any = null;\n    bounds: any = null;\n    myLatLng: any;\n\n    constructor(public geolocation: Geolocation, public platform: Platform, public navCtrl: NavController, public navParams: NavParams) {\n        this.service = this.navParams.get('service');\n        this.directionsService = new google.maps.DirectionsService();\n        this.directionsDisplay = new google.maps.DirectionsRenderer();\n        this.bounds = new google.maps.LatLngBounds();\n\n    }\n\n    ionViewDidLoad(){\n        this.getPosition();\n    }\n    getPosition():any{\n        this.geolocation.getCurrentPosition().then(response => {\n            this.loadMap(response);\n        }).catch(error => {\n            console.log(error);\n        });\n    }\n\n    loadMap(position: Geoposition) {\n        let latitude = position.coords.latitude;\n        let longitude = position.coords.longitude;\n        console.log(latitude, longitude);\n        // create a new map by passing HTMLElement\n        let mapEle: HTMLElement = document.getElementById('map');\n\n        // create LatLng object\n        this.myLatLng = {lat: latitude, lng: longitude};\n\n        // create map\n        this.map = new google.maps.Map(mapEle, {\n            center: this.myLatLng,\n            zoom: 12\n        });\n\n        this.directionsDisplay.setMap(this.map);\n\n        google.maps.event.addListenerOnce(this.map, 'idle', () => {\n            mapEle.classList.add('show-map');\n            this.calculateRoute();\n        });\n    }\n\n    private calculateRoute(){\n        this.bounds.extend(this.myLatLng);\n\n        this.map.fitBounds(this.bounds);\n\n        this.directionsService.route({\n            origin: new google.maps.LatLng(this.myLatLng.lat, this.myLatLng.lng),\n            destination: new google.maps.LatLng(this.service.pos_lat, this.service.pos_lng),\n            travelMode: google.maps.TravelMode.DRIVING,\n            avoidTolls: true\n        }, (response, status)=> {\n            if(status === google.maps.DirectionsStatus.OK) {\n                console.log(response);\n                this.directionsDisplay.setDirections(response);\n            }else{\n                alert('Could not display directions due to: ' + status);\n            }\n        });\n    }\n\n    // addMarker() {\n    //     let marker = new google.maps.Marker({\n    //         map: this.map,\n    //         animation: google.maps.Animation.DROP,\n    //         position: this.map.getCenter()\n    //     });\n    //\n    //     let content = this.service.cliente_nombre + \"<br>\" + this.service.ciudad + ', ' + this.service.direccion;\n    //\n    //     this.addInfoWindow(marker, content);\n    // }\n    //\n    // addInfoWindow(marker, content){\n    //\n    //     let infoWindow = new google.maps.InfoWindow({\n    //         content: content\n    //     });\n    //\n    //     google.maps.event.addListener(marker, 'click', () => {\n    //         infoWindow.open(this.map, marker);\n    //     });\n    //\n    // }\n\n    ionViewWillEnter() {\n\n    }\n\n    ionViewWillLeave() {\n\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/item-detail/item-detail.ts"],"sourceRoot":""}