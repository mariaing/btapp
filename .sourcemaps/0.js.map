{"version":3,"sources":["../../src/pages/profile/profile.module.ts","../../src/models/UploadImage.ts","../../src/helpers/helper.ts","../../src/pages/profile/profile.ts"],"names":[],"mappings":"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","file":"0.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { TranslateModule } from '@ngx-translate/core';\nimport { IonicPageModule } from 'ionic-angular';\n\nimport { ProfilePage } from './profile';\n\n@NgModule({\n  declarations: [\n      ProfilePage,\n  ],\n  imports: [\n    IonicPageModule.forChild(ProfilePage),\n    TranslateModule.forChild()\n  ],\n  exports: [\n      ProfilePage\n  ]\n})\nexport class ProfilePageModule { }\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/profile/profile.module.ts","export class UploadImage {\r\n    /**\r\n     * A identifier\r\n     */\r\n    public guid: string;\r\n    /**\r\n     * The path to the upload image\r\n     */\r\n    public path: string;\r\n    /**\r\n     * The thumbnail of the image\r\n     */\r\n    public thumb: string;\r\n    /**\r\n     * A flag that indicates whether this image is uploaded or not\r\n     */\r\n    public uploaded?: boolean = false;\r\n\r\n    public constructor(init?: UploadImage) {\r\n        Object.assign(this, init);\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/models/UploadImage.ts","export class Helper {\r\n    /**\r\n     * Creates a unique guid\r\n     * @returns A guid\r\n     */\r\n    public static guid = (): string => {\r\n        return Helper.s4() + Helper.s4() + '-' + Helper.s4() + '-' + Helper.s4() + '-' +\r\n            Helper.s4() + '-' + Helper.s4() + Helper.s4() + Helper.s4();\r\n    }\r\n\r\n    /**\r\n     * Generates a random string\r\n     * @returns A random string\r\n     */\r\n    private static s4(): string {\r\n        return Math.floor((1 + Math.random()) * 0x10000)\r\n            .toString(16)\r\n            .substring(1);\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/helpers/helper.ts","import {Component, NgZone} from '@angular/core';\nimport {ActionSheetController, IonicPage, ModalController, NavController, Platform} from 'ionic-angular';\nimport {StorageProvider} from \"../../providers/storage/storage\";\nimport {Api} from \"../../providers/api/api\";\nimport {EmployeProvider} from \"../../providers/employe/employe\";\nimport {CameraProfileProvider} from \"../../providers/camera-profile/camera-profile\";\nimport {FileUploadResult, Transfer, TransferObject} from \"@ionic-native/transfer\";\nimport {Helper} from \"../../helpers/helper\";\nimport {UploadImage} from \"../../models/UploadImage\";\nimport {ImageResizer, ImageResizerOptions} from \"@ionic-native/image-resizer\";\nimport {Insomnia} from \"@ionic-native/insomnia\";\nimport {NotificationService} from \"../../providers/notification/NotificationService\";\nimport {FormBuilder, FormGroup, Validators} from \"@angular/forms\";\nimport {ChangepassPage} from \"../changepass/changepass\";\nimport {LoginPage} from \"../pages\";\nimport {User} from \"../../providers/user/user\";\nimport {ChatPage} from \"../pages\";\n\n\n@IonicPage()\n@Component({\n    selector: 'page-profile',\n    templateUrl: 'profile.html'\n})\nexport class ProfilePage {\n    data: any;\n    /**\n     * The selected images\n     */\n    public images: Array<UploadImage> = [];\n    /**\n     * A flag that indicates whether the app is uploading files or not\n     */\n\n    /**\n     * The index of the current image being uploaded\n     */\n    public current: number = 0;\n    /**\n     * Total images to upload\n     */\n    public total: number;\n    /**\n     * Amount of progress made during an image upload\n     */\n    public progress: number = 0;\n    /**\n     * The transfer object\n     */\n    private file_transfer: TransferObject = this.transfer.create();\n    /**\n     * A collection of upload responses\n     */\n    public upload_responses: any = [];\n\n    private infoEmployeForm : FormGroup;\n    private carga_bateria :any;\n    public unregisterBackButtonAction: any;\n\n    constructor(private platform: Platform,public modalCtrl: ModalController, private formBuilder: FormBuilder, private cameraProfile: CameraProfileProvider, private emProvider: EmployeProvider,\n                public actionSheetCtrl: ActionSheetController, public api: Api, public navCtrl: NavController,\n                private credentials: StorageProvider,  private transfer: Transfer,\n                private notification_service: NotificationService, private user: User,\n                private image_resizer: ImageResizer,private ng_zone: NgZone, private insomnia: Insomnia) {\n        this.data = this.credentials.getCredentials();\n        this.infoEmployeForm = this.formBuilder.group({\n            identificacion: [this.data.empleado.identificacion || '', Validators.required],\n            nombres: [this.data.empleado.nombres || '', Validators.required],\n            apellidos: [this.data.empleado.apellidos || '', Validators.required],\n            telefono: [this.data.empleado.telefono || '', Validators.required],\n            direccion: [this.data.empleado.direccion || '', Validators.required],\n            email: [this.data.empleado.email || '', [Validators.required, Validators.email]],\n            fecha_nacimiento: [this.data.empleado.fecha_nacimiento || '', Validators.required]\n        });\n        this.carga_bateria = this.credentials.getCargaPulsera();\n    }\n\n    ionViewWillEnter() {\n        this.data = this.credentials.getCredentials();\n        this.initializeBackButtonCustomHandler();\n    }\n\n    public changeEstado() {\n        let actionSheet = this.actionSheetCtrl.create({\n            title: 'Selecciona el estado en que quieres aparecer',\n            buttons: [\n                {\n                    text: 'Disponible',\n                    handler: () => {\n                        this.emProvider.updateStateEmploye('disponible').subscribe(() => {\n                            this.data.empleado.estado = 'disponible';\n                            this.credentials.setCredentials(this.data);\n                        });\n                    }\n                },\n                {\n                    text: 'Ocupado',\n                    handler: () => {\n                        this.emProvider.updateStateEmploye('ocupado').subscribe(() => {\n                            this.data.empleado.estado = 'ocupado';\n                            this.credentials.setCredentials(this.data);\n                        });\n                    }\n                },\n                {\n                    text: 'Calamidad',\n                    handler: () => {\n                        this.emProvider.updateStateEmploye('calamidad').subscribe(() => {\n                            this.data.empleado.estado = 'calamidad';\n                            this.credentials.setCredentials(this.data);\n                        });\n                    }\n                },\n                {\n                    text: 'No cambiar mi estado',\n                    role: 'cancel'\n                }\n            ]\n        });\n        actionSheet.present();\n    }\n\n    editImage(){\n        let actionSheet = this.actionSheetCtrl.create({\n            title: 'Seleccionar origen de la imagen de perfil',\n            buttons: [\n                {\n                    text: 'Cargar desde la galeria',\n                    handler: () => {\n                        this.open_albums();\n                    }\n                },\n                {\n                    text: 'Usar camara',\n                    handler: () => {\n                        this.open_camera();\n                    }\n                },\n                {\n                    text: 'Cancelar',\n                    role: 'cancel'\n                }\n            ]\n        });\n        actionSheet.present();\n    }\n\n    /**\n     * Opens the albums and displays the selected images if available\n     */\n    public async open_albums(): Promise<void> {\n        let originals = await this.cameraProfile.open_albums();\n        // Map the originals to an array of UploadImage\n        let requests = await originals.map(async x => new UploadImage({\n            path: x,\n            guid: Helper.guid(),\n            thumb: await this.resize(x)\n        }));\n        let images = await Promise.all(requests);\n        // Save the originals\n        this.images = this.images.concat(images);\n        this.start_upload();\n    }\n\n    /**\n     * Opens the camera and displays the picture if available\n     */\n    public async open_camera(): Promise<void> {\n        let orignal = await this.cameraProfile.open_camera();\n        this.images.push(new UploadImage({\n            path: orignal,\n            guid: Helper.guid(),\n            thumb: await this.resize(orignal)\n        }));\n        this.start_upload();\n    }\n\n    /**\n     * Resizes an image\n     * @param original The path to the original image\n     */\n    private async resize(original: string): Promise<string> {\n        let options = {\n            uri: original,\n            folderName: 'btproject',\n            quality: 90,\n            width: 1280,\n            height: 1280\n        } as ImageResizerOptions;\n        return this.image_resizer.resize(options);\n    }\n\n    /**\n     * Starts the upload of the\n     */\n    public async start_upload(): Promise<void> {\n\n        this.total = this.images.length;\n        // Keep the phone awake (e.g. dont let go in sleep mode)\n        this.insomnia.keepAwake();\n        // Start the first upload\n        this.upload();\n    }\n\n    /**\n     * The on upload progress callback event\n     * @param progressEvent The progress event of the image upload\n     */\n    public on_progress = (progressEvent: ProgressEvent): void => {\n        this.ng_zone.run(() => {\n            if (progressEvent.lengthComputable) {\n                let progress = Math.round((progressEvent.loaded / progressEvent.total) * 100);\n                if (progress > 100) progress = 100;\n                if (progress < 0) progress = 0;\n                this.progress = progress;\n            }\n        });\n    }\n\n    /**\n     * Actually uploads an image\n     */\n    public async upload(): Promise<void> {\n        // Bind the progress function\n        this.file_transfer.onProgress(this.on_progress);\n        // Prepare our upload options\n        let options = {\n            fileKey: 'file',\n            fileName: this.images[this.current].path.split('/').pop(),\n            mimeType: 'image/jpeg',\n            chunkedMode: false,\n            headers: {\n                'Content-Type': undefined,\n                'Authorization': 'Bearer ' + this.credentials.getToken()\n            },\n            params: {}\n        };\n        try {\n            // Start uploading!\n            let result = await this.file_transfer.upload(\n                encodeURI(this.images[this.current].path),\n                encodeURI(this.api.url + \"/empleados/\" + this.credentials.getCredentials().empleado.id + '/imagen'),\n                options,\n                false\n            );\n            this.on_success(result);\n        } catch (e) {\n            this.on_failed(e);\n        }\n    }\n\n    /**\n     * The on success upload callback\n     * @param result The upload result\n     */\n    public on_success = (result: FileUploadResult): void => {\n        // Mark the image as uploaded\n        this.images[this.current].uploaded = true;\n        // Do we have more to upload?\n        if (this.current + 1 < this.images.length) {\n            // Yes, we have. Up the current index\n            this.current++;\n            // reset the progress\n            this.progress = 0;\n            // and start the upload\n            this.upload();\n        } else {\n            // No, we're done with uploading. Allow the device to sleep again.\n            // This is important, because if you don't allow sleep again\n            // in any case, apple wont accept your app in the store.\n            this.insomnia.allowSleepAgain();\n            this.images = [];\n            this.current = 0;\n            this.notification_service.notify_success('Se cargo la imagen correctamente');\n        }\n    }\n\n    /**\n     * The on failed upload callback\n     * @param error The upload error\n     */\n    public on_failed = (error: any): void => {\n        // Something went wrong, allow sleep again\n        this.insomnia.allowSleepAgain();\n        // These are cancel events, if user canceled don't do anything\n        if (error.code == 3 || error.code == 4) return;\n        this.notification_service.notify_error(error);\n\n    }\n\n    editDataForm(){\n        this.emProvider.updateDataEmploye(this.infoEmployeForm.value).subscribe((response) => {\n            this.notification_service.notify_success('Se actualizaron los datos correctamente');\n        })\n    }\n    openModalChagePass(){\n        let changePassModal = this.modalCtrl.create(ChangepassPage);\n        changePassModal.present();\n    }\n    public async logout(): Promise<void>{\n        let la = await this.user.logout();\n            this.navCtrl.push(LoginPage);\n    }\n    ionViewDidLoad() {\n    }\n\n    public pageChat(){\n        this.navCtrl.push(ChatPage);\n    }\n    ionViewWillLeave() {\n        // Unregister the custom back button action for this page\n        this.unregisterBackButtonAction && this.unregisterBackButtonAction();\n    }\n\n    private customHandleBackButton(): void {\n        // do what you need to do here ...\n    }\n    public initializeBackButtonCustomHandler(): void {\n        this.unregisterBackButtonAction = this.platform.registerBackButtonAction(() => {\n            this.customHandleBackButton();\n        }, 10);\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/pages/profile/profile.ts"],"sourceRoot":""}