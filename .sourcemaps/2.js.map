{"version":3,"sources":["../../src/pages/dispositivos/dispositivos.module.ts","../../src/models/UploadImage.ts","../../src/helpers/helper.ts","../../src/pages/dispositivos/dispositivos.ts"],"names":[],"mappings":"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","file":"2.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { TranslateModule } from '@ngx-translate/core';\nimport { IonicPageModule } from 'ionic-angular';\n\nimport { DispositivosPage } from './dispositivos';\n\n@NgModule({\n  declarations: [\n      DispositivosPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(DispositivosPage),\n    TranslateModule.forChild()\n  ],\n  exports: [\n      DispositivosPage\n  ]\n})\nexport class DispositivosPagePageModule { }\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/dispositivos/dispositivos.module.ts","export class UploadImage {\r\n    /**\r\n     * A identifier\r\n     */\r\n    public guid: string;\r\n    /**\r\n     * The path to the upload image\r\n     */\r\n    public path: string;\r\n    /**\r\n     * The thumbnail of the image\r\n     */\r\n    public thumb: string;\r\n    /**\r\n     * A flag that indicates whether this image is uploaded or not\r\n     */\r\n    public uploaded?: boolean = false;\r\n\r\n    public constructor(init?: UploadImage) {\r\n        Object.assign(this, init);\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/models/UploadImage.ts","export class Helper {\r\n    /**\r\n     * Creates a unique guid\r\n     * @returns A guid\r\n     */\r\n    public static guid = (): string => {\r\n        return Helper.s4() + Helper.s4() + '-' + Helper.s4() + '-' + Helper.s4() + '-' +\r\n            Helper.s4() + '-' + Helper.s4() + Helper.s4() + Helper.s4();\r\n    }\r\n\r\n    /**\r\n     * Generates a random string\r\n     * @returns A random string\r\n     */\r\n    private static s4(): string {\r\n        return Math.floor((1 + Math.random()) * 0x10000)\r\n            .toString(16)\r\n            .substring(1);\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/helpers/helper.ts","import {Component, NgZone} from '@angular/core';\nimport {AlertController, IonicPage, LoadingController, NavController, Platform} from 'ionic-angular';\nimport {Items} from \"../../mocks/providers/items\";\nimport {EmployeProvider} from \"../../providers/employe/employe\";\nimport {BluetoothSerial} from \"@ionic-native/bluetooth-serial\";\nimport {StorageProvider} from \"../../providers/storage/storage\";\nimport {ChatPage, LoginPage, WaitPage} from \"../pages\";\nimport {User} from \"../../providers/user/user\";\nimport {FileUploadResult, Transfer, TransferObject} from \"@ionic-native/transfer\";\nimport {UploadImage} from \"../../models/UploadImage\";\nimport {ImageResizer, ImageResizerOptions} from \"@ionic-native/image-resizer\";\nimport {Insomnia} from \"@ionic-native/insomnia\";\nimport {CameraProfileProvider} from \"../../providers/camera-profile/camera-profile\";\nimport {Helper} from \"../../helpers/helper\";\nimport {NotificationService} from \"../../providers/notification/NotificationService\";\nimport {Api} from \"../../providers/api/api\";\n\n@IonicPage()\n@Component({\n    selector: 'page-dispositivos',\n    templateUrl: 'dispositivos.html'\n})\nexport class DispositivosPage {\n    loading = null;\n    H255: boolean;\n    H0: boolean;\n    timer: number = 0;\n    espera: any;\n    device: any;\n    values: any;\n    carga : boolean;\n    typePhotography: string = \"Reconección\";\n\n    public deviceItems : any;\n\n    /**\n     * The selected images\n     */\n    public images: Array<UploadImage> = [];\n    /**\n     * A flag that indicates whether the app is uploading files or not\n     */\n\n    /**\n     * The index of the current image being uploaded\n     */\n    public current: number = 0;\n    /**\n     * Total images to upload\n     */\n    public total: number;\n    /**\n     * Amount of progress made during an image upload\n     */\n    public progress: number = 0;\n    /**\n     * The transfer object\n     */\n    private file_transfer: TransferObject = this.transfer.create();\n    public unregisterBackButtonAction: any;\n\n\n    constructor(private platform: Platform,private transfer: Transfer,private user: User, private items: Items,\n                private employeProvider: EmployeProvider, private credentials: StorageProvider,\n                private btserial: BluetoothSerial, public navCtrl: NavController,\n                public loadingCtrl: LoadingController, private alertCtrl: AlertController,\n                private image_resizer: ImageResizer,private ng_zone: NgZone, private insomnia: Insomnia,\n                private cameraProfile: CameraProfileProvider, private notification_service: NotificationService,\n                private api: Api) {\n        this.deviceItems = [];\n        this.values = [];\n        this.H0 = false;\n        this.H255 = false;\n        this.carga = false;\n\n\n    }\n\n    doRefresh(event) {\n      this.btserial.enable().then((response) => {\n        this.listDevices();\n        this.scanDevices();\n    }, (err) => {\n    })\n      if (event != 0) event.complete();\n    }\n\n    ionViewWillLeave() {\n        // Unregister the custom back button action for this page\n        this.unregisterBackButtonAction && this.unregisterBackButtonAction();\n    }\n\n    private customHandleBackButton(): void {\n        // do what you need to do here ...\n    }\n    public initializeBackButtonCustomHandler(): void {\n        this.unregisterBackButtonAction = this.platform.registerBackButtonAction(() => {\n            this.customHandleBackButton();\n        }, 10);\n    }\n\n    enableBluetooth() {\n        this.btserial.enable().then((response) => {\n            this.listDevices();\n            this.scanDevices();\n        }, (err) => {\n        })\n    }\n\n    private scanDevices() {\n        let loading = this.loadingCtrl.create({\n            content: 'Buscando dispositivos...'\n        });\n        loading.present();\n        this.btserial.discoverUnpaired().then((response) => {\n\n            this.deviceItems = response;\n            loading.dismiss();\n        }, (err) => {\n            loading.dismiss();\n        })\n    }\n\n    private listDevices() {\n        let loading = this.loadingCtrl.create({\n            content: 'Listando dispositivos...'\n        });\n        loading.present();\n        this.btserial.list().then((response) => {\n\n            this.deviceItems = response;\n            loading.dismiss();\n        }, (err) => {\n            loading.dismiss();\n        })\n    }\n\n    connect(device) {\n        let loading = this.loadingCtrl.create({\n            content: 'Conectando...'\n        });\n        loading.present();\n        this.device = device;\n        console.info('Device', device);\n        loading.dismiss();\n        // var probar =device.id.toString().replace(/(^\\s+|\\s+$)/g, '')\n        // if(probar === this.credentials.getCredentials().empleado.iddispositivo){\n        //     let alert = this.alertCtrl.create({\n        //         title: 'Que haces!',\n        //         message: 'Estas intentado conectarte a un dispositivo que no te pertence.',\n        //         buttons: [{\n        //             text: 'Ok',\n        //             role: 'cancel',\n        //             handler: () => {}\n        //         }]\n        //     });\n        //     alert.present();\n        // }else{\n\n        // }\n        this.btserial.connect(device.id).subscribe((responseConnect) => {\n          this.btserial.subscribe('\\n').subscribe((responseSuscribe) => {\n              this.btserial.isEnabled().then((responseEnable) => {\n                  this.btserial.isConnected().then((responseBConnect) => {\n                      responseSuscribe = responseSuscribe.toString().replace(/(^\\s+|\\s+$)/g, '');\n                      if(responseSuscribe === 'L'  && this.carga === false){\n                        this.carga = true;\n                        let alert = this.alertCtrl.create({\n                            title: 'Atencion!',\n                            message: 'La bateria de tu dispositivo esta descargada, por favor ponla a cargar para seguir trabajando nuevamente.',\n                            buttons: [{\n                                text: 'Ok',\n                                role: 'cancel',\n                                handler: () => {\n                                  this.H255 = true;\n                                  this.H0 = false;\n                                  this.employeProvider.updateStatePulsera(responseSplit[0]).subscribe(() => {\n                                      this.credentials.setStatePulsera(responseSplit[0]);\n                                  });\n                                }\n                            }]\n                        });\n                        alert.present();\n                      }else{\n                        responseSuscribe = responseSuscribe.replace(/{/g, '');\n                        responseSuscribe =responseSuscribe.replace(/}/g, '');\n                        var responseSplit = responseSuscribe.split(\",\");\n\n                        this.calculatePercentBaterry(responseSplit[1]);\n                        console.log(responseSplit);\n                        for (var i = 0; i < responseSplit.length; i++) {\n                            if (responseSplit[0] === '0' && this.H0 === false) {\n                                console.info('Esta conectada ', responseSplit[0])\n                                this.H255 = false;\n                                this.H0 = true;\n                                this.employeProvider.updateStatePulsera(responseSplit[0]).subscribe(() => {\n                                    this.credentials.setStatePulsera(responseSplit[0]);\n                                });\n                            } else if (responseSplit[0] === '255' && this.H255 === false) {\n                                console.info('Esta desconectada ', responseSplit[0]);\n                                localStorage.removeItem('carga');\n                                this.reconnectOnDeconncted();\n                                this.H255 = true;\n                                this.H0 = false;\n                                this.employeProvider.updateStatePulsera(responseSplit[0]).subscribe(() => {\n                                    this.credentials.setStatePulsera(responseSplit[0]);\n                                });\n                            }\n                        }\n                      }\n                      clearInterval(this.espera);\n                  }, (responseBConnectError) => {\n                      this.showReconect();\n                  });\n              })\n          });\n          this.navCtrl.parent.select(0);\n      }, (responseConnectError) => {\n          loading.dismiss();\n          this.isDeconnected();\n      });\n    }\n\n    private reconnectOnDeconncted(){\n        if(localStorage.getItem('service')){\n            let alert = this.alertCtrl.create({\n                title: 'Alerta!',\n                message: 'Acualmente se encuentra realizando un servicio y su pulsera se registro como desconectada, al reconectarse debera tomarse nuevamente una fotografia de confirmación, si no desea reconectarse su servicio sera cancelado y se cerrara su sesión. Desea Reconectar No/Si',\n                buttons: [{\n                    text: 'No',\n                    role: 'cancel',\n                    handler: () => {\n                        if (localStorage.getItem('service')) {\n                            this.items.cancelItemState(localStorage.getItem('service')).subscribe((data) => {\n                                this.logout();\n                            });\n                        } else {\n                            this.logout();\n                        }\n                    }\n                }, {\n                    text: 'Si',\n                    handler: () => {\n                        if(localStorage.getItem('pulsera_state') === '255'){\n                            let alert = this.alertCtrl.create({\n                                title: 'Atencion!',\n                                message: 'La pulsera aun se registra como desconectada, no puede realizar esta accion',\n                                buttons: [{\n                                    text: 'Ok',\n                                    role: 'cancel'\n                                }]\n                            });\n                            alert.present();\n                            return;\n                        }else{\n                            if (localStorage.getItem('service')) {\n                                this.open_camera();\n                            }\n                        }\n\n                        // this.btserial.enable().then((responseEnable) => {\n                        //     this.connect(this.device);\n                        // });\n                    }\n                }]\n            });\n            alert.present();\n        }\n    }\n\n    private calculatePercentBaterry(value){\n        if(value == '4.2'){\n            this.credentials.setCargaPulsera('100')\n        }else if(value == '4.1'){\n            this.credentials.setCargaPulsera('90')\n        }else if(value == '4' || value == '4.0'){\n            this.credentials.setCargaPulsera('80')\n        }else if(value == '3.9'){\n            this.credentials.setCargaPulsera('70')\n        }else if(value == '3.8'){\n            this.credentials.setCargaPulsera('60')\n        }else if(value == '3.7'){\n            this.credentials.setCargaPulsera('50')\n        }else if(value == '3.6'){\n            this.credentials.setCargaPulsera('40')\n        }\n    }\n    private isDeconnected() {\n        let alert = this.alertCtrl.create({\n            title: 'Atencion!',\n            message: 'El bluetooth ha sido desactivado/desconectado o la pulsera a salido del rango de alcance, por favor, active el bluetooth o acerque la pulsera para volver a conectarse.',\n            buttons: [{\n                text: 'Ok',\n                role: 'cancel',\n                handler: () => {\n                    this.btserial.disconnect().then((data) => {\n                    });\n                    this.btserial.clear().then((data) => {\n                    });\n                    let alert = this.alertCtrl.create({\n                        title: 'Atencion!',\n                          message: 'Empezara un conteo de 5 minutos para reconectar la pulsera, si no lo hace se cerrara su sesion y se reiniciara el trabajo aceptado.',\n                        buttons: [{\n                            text: 'Ok',\n                            role: 'cancel',\n                            handler: () => {\n                                this.H255 = false;\n                                this.H0 = false;\n                                this.credentials.setStatePulsera('255');\n\n                                this.employeProvider.updateStatePulsera('255').subscribe(() => {\n\n                                });\n                                this.inTimerWait();\n                            }\n                        }]\n                    });\n                    alert.present();\n                }\n            }]\n        });\n        alert.present();\n    }\n\n    private showReconect() {\n        let alert = this.alertCtrl.create({\n            title: 'Atencion!',\n            message: 'La pulsera esta desconectada, quieres conectarte nuevamente?.',\n            buttons: [{\n                text: 'Cancelar',\n                role: 'cancel',\n                handler: () => {\n                    //console.log('Cancel clicked');\n                }\n            }, {\n                text: 'Ok',\n                handler: () => {\n                    clearInterval(this.espera);\n                    this.connect(this.device);\n                }\n            }\n            ]\n        });\n        alert.present();\n    }\n\n    private inTimerWait() {\n        this.espera = setInterval(() => {\n            console.log('El timer');\n            if (this.timer === 4) {\n                clearInterval(this.espera);\n                let alert = this.alertCtrl.create({\n                    title: 'Alerta!',\n                    message: 'Han pasado los 5 minutos desde la desconeccion de la pulsera, deseas reconectarte?.',\n                    buttons: [{\n                        text: 'No',\n                        role: 'cancel',\n                        handler: () => {\n                            if (localStorage.getItem('service')) {\n                                this.items.cancelItemState(localStorage.getItem('service')).subscribe((data) => {\n                                    console.log(data);\n                                    this.logout();\n                                });\n                            } else {\n                                this.logout();\n                            }\n                        }\n                    }, {\n                        text: 'Si',\n                        role: 'cancel',\n                        handler: () => {\n                            clearInterval(this.espera);\n                            if (localStorage.getItem('service')) {\n                                this.open_camera();\n                            }\n\n                            this.btserial.enable().then((responseEnable) => {\n                                this.connect(this.device);\n                            });\n                        }\n                    }]\n                });\n                alert.present();\n            } else {\n                this.timer++;\n            }\n        }, 60000)\n    }\n\n    ionViewWillEnter() {\n        this.deviceItems = [];\n        if (this.credentials.getStatePulsera() === '0') {\n            let alert = this.alertCtrl.create({\n                title: 'Espera',\n                message: 'Ya estas conectado a la pulsera, no tienes nada que hacer aca.',\n                buttons: [{\n                    text: 'Ok',\n                    role: 'cancel',\n                    handler: () => {\n                        this.navCtrl.parent.select(0);\n                    }\n                }]\n            });\n            alert.present();\n        } else {\n            this.enableBluetooth();\n        }\n        this.initializeBackButtonCustomHandler();\n    }\n\n    ionViewDidLoad() {\n\n    }\n\n    /**\n     * Opens the camera and displays the picture if available\n     */\n    public async open_camera(): Promise<void> {\n        this.images = [];\n        let orignal = await this.cameraProfile.open_camera();\n        this.images.push(new UploadImage({\n            path: orignal,\n            guid: Helper.guid(),\n            thumb: await this.resize(orignal)\n        }));\n        this.start_upload();\n    }\n\n    /**\n     * Resizes an image\n     * @param original The path to the original image\n     */\n    private async resize(original: string): Promise<string> {\n        let options = {\n            uri: original,\n            folderName: 'btproject',\n            quality: 90,\n            width: 1280,\n            height: 1280\n        } as ImageResizerOptions;\n        return this.image_resizer.resize(options);\n    }\n\n    /**\n     * Starts the upload of the\n     */\n    public async start_upload(): Promise<void> {\n\n        this.total = this.images.length;\n        // Keep the phone awake (e.g. dont let go in sleep mode)\n        this.insomnia.keepAwake();\n        // Start the first upload\n        this.upload();\n    }\n\n    /**\n     * The on upload progress callback event\n     * @param progressEvent The progress event of the image upload\n     */\n    public on_progress = (progressEvent: ProgressEvent): void => {\n        this.ng_zone.run(() => {\n            if (progressEvent.lengthComputable) {\n                let progress = Math.round((progressEvent.loaded / progressEvent.total) * 100);\n                if (progress > 100) progress = 100;\n                if (progress < 0) progress = 0;\n                this.progress = progress;\n            }\n        });\n    }\n\n    /**\n     * Actually uploads an image\n     */\n    public async upload(): Promise<void> {\n        // Bind the progress function\n        this.file_transfer.onProgress(this.on_progress);\n        // Prepare our upload options\n        let options = {\n            fileKey: 'file',\n            fileName: this.images[this.current].path.split('/').pop(),\n            mimeType: 'image/jpeg',\n            chunkedMode: false,\n            headers: {\n                'Content-Type': undefined,\n                'Authorization': 'Bearer ' + this.credentials.getToken()\n            },\n            params: {\n                type: 'Reconección',\n                duracion_in_moment: localStorage.getItem('time_moment')\n            }\n        };\n        try {\n            // Start uploading!\n            let result = await this.file_transfer.upload(\n                encodeURI(this.images[this.current].path),\n                encodeURI(this.api.url + \"/asignaciones/\" + JSON.parse(localStorage.getItem('service')).id + '/imagen'),\n                options,\n                false\n            );\n            this.on_success(result);\n        } catch (e) {\n            this.on_failed(e);\n        }\n    }\n\n    /**\n     * The on success upload callback\n     * @param result The upload result\n     */\n    public on_success = (result: FileUploadResult): void => {\n        // Mark the image as uploaded\n        this.images[this.current].uploaded = true;\n        // Do we have more to upload?\n        if (this.current + 1 < this.images.length) {\n            // Yes, we have. Up the current index\n            this.current++;\n            // reset the progress\n            this.progress = 0;\n            // and start the upload\n            this.upload();\n        } else {\n            // No, we're done with uploading. Allow the device to sleep again.\n            // This is important, because if you don't allow sleep again\n            // in any case, apple wont accept your app in the store.\n            this.insomnia.allowSleepAgain();\n            this.images = [];\n            this.current = 0;\n            this.notification_service.notify_success('Se cargo la imagen correctamente');\n            this.items.acceptItemService(JSON.parse(localStorage.getItem('service'))).subscribe((res)=>{\n                if(!localStorage.getItem('service')){\n                    this.navCtrl.push(WaitPage, JSON.parse(localStorage.getItem('service')));\n                }\n            })\n        }\n    };\n\n    /**\n     * The on failed upload callback\n     * @param error The upload error\n     */\n    public on_failed = (error: any): void => {\n        // Something went wrong, allow sleep again\n        this.insomnia.allowSleepAgain();\n        // These are cancel events, if user canceled don't do anything\n        if (error.code == 3 || error.code == 4) return;\n        this.notification_service.notify_error(error);\n\n    }\n\n\n    public async logout(): Promise<void>{\n        let la = await this.user.logout();\n        this.navCtrl.push(LoginPage);\n    }\n\n    public pageChat(){\n        this.navCtrl.push(ChatPage);\n    }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/dispositivos/dispositivos.ts"],"sourceRoot":""}